import{A as $}from"./AdminLayout-1b49a627.js";import A from"./EditLocationModal-5f443224.js";import{Q as N,m as y,o as r,c as h,w as b,a as c,u as m,Z as S,b as e,f as v,i as _,d as a,t as n,e as g,F as f,j as w,n as E,p as j}from"./app-59f66305.js";import"./NavLink-5e46c6e3.js";import"./_plugin-vue_export-helper-c27b6911.js";const D={class:"container mx-auto"},T={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-2"},B={key:0,class:"mb-4 p-4 bg-green-100 text-green-700 rounded-md"},H={key:1,class:"mb-4 p-4 bg-red-100 text-red-700 rounded-md"},O={key:2,class:"space-y-4"},V=["title"],J={class:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-2 text-sm mb-3"},z=["title"],Q={class:"text-gray-800"},U=["title"],Z={class:"text-gray-500"},q={class:"text-gray-800"},G={class:"text-gray-800"},I={class:"mt-4 flex flex-col sm:flex-row sm:space-x-2 space-y-2 sm:space-y-0"},K=["onClick"],P=["onClick"],R={key:3,class:"bg-white shadow-md rounded-lg p-6 text-center"},W={key:4,class:"mt-6 flex justify-center"},X={class:"flex flex-wrap -mb-1"},Y=["innerHTML"],ae={__name:"ManageLocations",props:{locations:Object,usersForSelect:Array},setup(l){const x=N(),i=y(!1),u=y(null),L=o=>o?new Date(o).toLocaleString():"N/A",k=o=>{u.value=JSON.parse(JSON.stringify(o)),i.value=!0},M=()=>{i.value=!1,u.value=null},C=o=>{confirm(`Are you sure you want to delete the location "${o.name}"? This action cannot be undone.`)&&j.delete(route("admin.locations.destroy",o.id),{preserveScroll:!0,onSuccess:()=>x.props.flash.success=`Location "${o.name}" deleted successfully.`,onError:s=>x.props.flash.error=Object.values(s).join(" ")||"Failed to delete location."})};return(o,s)=>(r(),h($,null,{default:b(()=>[c(m(S),{title:"Admin - Manage Locations"}),e("div",D,[e("div",T,[s[1]||(s[1]=e("h1",{class:"text-2xl font-semibold text-gray-800"},"Manage Locations",-1)),c(m(_),{href:o.route("admin.index"),class:"text-sm text-indigo-600 hover:text-indigo-800 self-end sm:self-center"},{default:b(()=>s[0]||(s[0]=[v("â† Back to Admin Dashboard")])),_:1,__:[0]},8,["href"])]),o.$page.props.flash.success?(r(),a("div",B,n(o.$page.props.flash.success),1)):g("",!0),o.$page.props.flash.error?(r(),a("div",H,n(o.$page.props.flash.error),1)):g("",!0),l.locations.data&&l.locations.data.length>0?(r(),a("div",O,[(r(!0),a(f,null,w(l.locations.data,t=>{var d,p;return r(),a("div",{key:t.id,class:"bg-white shadow-md rounded-lg p-4"},[e("h2",{class:"text-lg font-semibold text-indigo-700 mb-2 truncate",title:t.name},n(t.name),9,V),e("div",J,[e("div",null,[s[2]||(s[2]=e("strong",{class:"text-gray-600"},"Address:",-1)),e("p",{class:"text-gray-800 truncate",title:t.address},n(t.address),9,z)]),e("div",null,[s[3]||(s[3]=e("strong",{class:"text-gray-600"},"Coordinates:",-1)),e("p",Q,"Lat: "+n((d=t.latitude)==null?void 0:d.toFixed(5))+", Lng: "+n((p=t.longitude)==null?void 0:p.toFixed(5)),1)]),e("div",null,[s[4]||(s[4]=e("strong",{class:"text-gray-600"},"User:",-1)),e("p",{class:"text-gray-800 truncate",title:`${t.user_name} (${t.user_email})`},[v(n(t.user_name)+" ",1),e("span",Z,"("+n(t.user_email)+")",1)],8,U)]),e("div",null,[s[5]||(s[5]=e("strong",{class:"text-gray-600"},"Language:",-1)),e("p",q,n(t.language||"N/A"),1)]),e("div",null,[s[6]||(s[6]=e("strong",{class:"text-gray-600"},"Created:",-1)),e("p",G,n(L(t.created_at)),1)])]),e("div",I,[e("button",{onClick:F=>k(t),class:"w-full sm:w-auto text-center px-3 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},"Edit",8,K),e("button",{onClick:F=>C(t),class:"w-full sm:w-auto text-center px-3 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},"Delete",8,P)])])}),128))])):(r(),a("div",R,s[7]||(s[7]=[e("p",{class:"text-gray-500"},"No locations found.",-1)]))),l.locations.links.length>3?(r(),a("div",W,[e("div",X,[(r(!0),a(f,null,w(l.locations.links,(t,d)=>(r(),a(f,{key:d},[t.url===null?(r(),a("div",{key:0,class:"mr-1 mb-1 px-3 py-2 sm:px-4 sm:py-3 text-xs sm:text-sm leading-4 text-gray-400 border rounded",innerHTML:t.label},null,8,Y)):(r(),h(m(_),{key:1,class:E(["mr-1 mb-1 px-3 py-2 sm:px-4 sm:py-3 text-xs sm:text-sm leading-4 border rounded hover:bg-white focus:border-indigo-500 focus:text-indigo-500",{"bg-white":t.active}]),href:t.url,innerHTML:t.label},null,8,["class","href","innerHTML"]))],64))),128))])])):g("",!0)]),c(A,{show:i.value,location_data:u.value,usersForSelect:l.usersForSelect,onClose:M},null,8,["show","location_data","usersForSelect"])]),_:1}))}};export{ae as default};
