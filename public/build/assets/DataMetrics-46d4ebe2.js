import{o as s,c as p,w as N,a as i,u as o,Z as F,b as n,t as f,d as a,F as E,j as T,e as l,C as D,_ as h}from"./app-59f66305.js";import{_ as w}from"./PageTemplate-06a9faf5.js";import{_ as S}from"./_plugin-vue_export-helper-c27b6911.js";import"./NavLink-5e46c6e3.js";import"./ResponsiveNavLink-c41a3cb4.js";const V={class:"container mx-auto px-2 sm:px-4 py-8"},B={class:"text-center text-sm text-gray-500 mb-8 sm:mb-10"},I={key:0,class:"space-y-10 sm:space-y-12"},O={class:"text-2xl sm:text-3xl font-semibold text-blue-700 mb-4 sm:mb-6 border-b-2 border-blue-200 pb-2"},P={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mb-6"},A={key:0,class:"mt-6 sm:mt-8 pt-4 sm:pt-6 border-t border-gray-200"},R={class:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6"},U={key:0,class:"space-y-4 sm:space-y-6"},M={key:1,class:"space-y-4 sm:space-y-6"},G={key:2,class:"space-y-4 sm:space-y-6"},H={key:3,class:"space-y-4 sm:space-y-6"},Y={key:4,class:"space-y-4 sm:space-y-6"},$={key:1,class:"mt-6 sm:mt-8 pt-4 sm:pt-6 border-t border-gray-200"},j={key:1,class:"text-center py-10"},W={__name:"DataMetrics",props:{metricsData:Array,lastUpdated:String},setup(v){const c=D(()=>h(()=>import("./MetricCard-30c6aeff.js"),["assets/MetricCard-30c6aeff.js","assets/app-59f66305.js","assets/app-1d602fa5.css"])),m=D(()=>h(()=>import("./BarChartCard-b2abd4eb.js"),["assets/BarChartCard-b2abd4eb.js","assets/app-59f66305.js","assets/app-1d602fa5.css","assets/_plugin-vue_export-helper-c27b6911.js","assets/AdminLayout-e3b0c442.css"])),g=D(()=>h(()=>import("./ListCard-646e2d1f.js"),["assets/ListCard-646e2d1f.js","assets/app-59f66305.js","assets/app-1d602fa5.css"])),y=e=>e==null?"N/A":e.toLocaleString(),x=e=>e==null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),b=e=>e?new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}):"N/A",d=(e,r,t)=>{if(!e||e.length===0)return{labels:[],datasets:[{data:[]}]};const _=["#4A90E2","#50E3C2","#F5A623","#BD10E0","#9013FE","#4A4A4A","#D0021B","#F8E71C","#7ED321","#B8E986","#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40","#C9CBCF","#77DD77","#FFB347","#836953"];return{labels:e.map(u=>u[r]||"Unknown"),datasets:[{label:"Count",backgroundColor:e.map((u,L)=>_[L%_.length]),data:e.map(u=>u[t])}]}},C=(e,r,t,_)=>!e||e.length===0?[]:e.map(u=>({primary:u[r]||"Unknown",secondary:u[t]||"",value:y(u[_])})),k=e=>e.modelName==="Crime Data"&&(e.offenseGroupDistribution||e.shootingIncidents!==void 0)||e.modelName==="Three One One Case"&&(e.caseStatusDistribution||e.averageClosureTimeHours!==void 0)||e.modelName==="Food Inspection"&&(e.resultDistribution||e.violationLevelDistribution)||e.modelName==="Property Violation"&&(e.statusDistribution||e.topViolationCodes)||e.modelName==="Building Permit"&&(e.workTypeDistribution||e.permitStatusDistribution||e.totalDeclaredValuation!==void 0);return(e,r)=>(s(),p(w,null,{default:N(()=>[i(o(F),{title:"Data Metrics & Coverage"}),n("div",V,[r[3]||(r[3]=n("h1",{class:"text-3xl sm:text-4xl font-bold text-center text-gray-800 mb-3 sm:mb-4"},"Our Data Universe",-1)),r[4]||(r[4]=n("p",{class:"text-center text-gray-600 mb-1 sm:mb-2 px-4"}," Explore the depth and breadth of data available on our platform. ",-1)),n("p",B," Last updated: "+f(new Date(v.lastUpdated).toLocaleString()),1),v.metricsData&&v.metricsData.length>0?(s(),a("div",I,[(s(!0),a(E,null,T(v.metricsData,(t,_)=>(s(),a("div",{key:_,class:"bg-white p-4 sm:p-6 rounded-xl shadow-xl hover:shadow-2xl transition-shadow duration-300"},[n("h2",O,f(t.modelName),1),n("div",P,[i(o(c),{title:"Total Records",value:y(t.totalRecords),icon:"database"},null,8,["value"]),t.minDate&&t.minDate!=="Error"?(s(),p(o(c),{key:0,title:"Oldest Record",value:b(t.minDate),icon:"calendar-alt"},null,8,["value"])):l("",!0),t.maxDate&&t.maxDate!=="Error"?(s(),p(o(c),{key:1,title:"Newest Record",value:b(t.maxDate),icon:"calendar-check"},null,8,["value"])):l("",!0),t.recordsLast30Days!==void 0?(s(),p(o(c),{key:2,title:"Last 30 Days",value:y(t.recordsLast30Days),icon:"calendar-day"},null,8,["value"])):l("",!0),t.recordsLast90Days!==void 0?(s(),p(o(c),{key:3,title:"Last 90 Days",value:y(t.recordsLast90Days),icon:"calendar-week"},null,8,["value"])):l("",!0),t.recordsLast1Year!==void 0?(s(),p(o(c),{key:4,title:"Last Year",value:y(t.recordsLast1Year),icon:"calendar"},null,8,["value"])):l("",!0)]),k(t)?(s(),a("div",A,[r[0]||(r[0]=n("h3",{class:"text-xl sm:text-2xl font-medium text-gray-700 mb-3 sm:mb-4"},"Specific Insights:",-1)),n("div",R,[t.modelName==="Crime Data"?(s(),a("div",U,[i(o(m),{title:"Top Offense Groups","chart-data":d(t.offenseGroupDistribution,"offense_description","total")},null,8,["chart-data"]),i(o(c),{title:"Shooting Incidents Reported",value:y(t.shootingIncidents),icon:"crosshairs"},null,8,["value"])])):l("",!0),t.modelName==="Three One One Case"?(s(),a("div",M,[i(o(m),{title:"Case Status Distribution","chart-data":d(t.caseStatusDistribution,"case_status","total")},null,8,["chart-data"]),t.averageClosureTimeHours?(s(),p(o(c),{key:0,title:"Avg. Closure Time",value:`${t.averageClosureTimeHours} hours`,icon:"hourglass-half"},null,8,["value"])):l("",!0)])):l("",!0),t.modelName==="Food Inspection"?(s(),a("div",G,[i(o(m),{title:"Inspection Results","chart-data":d(t.resultDistribution,"result","total")},null,8,["chart-data"]),i(o(m),{title:"Violation Levels","chart-data":d(t.violationLevelDistribution,"viol_level","total")},null,8,["chart-data"])])):l("",!0),t.modelName==="Property Violation"?(s(),a("div",H,[i(o(m),{title:"Violation Status","chart-data":d(t.statusDistribution,"status","total")},null,8,["chart-data"]),i(o(g),{title:"Top Violation Types",items:C(t.topViolationCodes,"code","description","total")},null,8,["items"])])):l("",!0),t.modelName==="Building Permit"?(s(),a("div",Y,[i(o(m),{title:"Work Types","chart-data":d(t.workTypeDistribution,"worktype","total")},null,8,["chart-data"]),i(o(m),{title:"Permit Status","chart-data":d(t.permitStatusDistribution,"status","total")},null,8,["chart-data"]),i(o(c),{title:"Total Declared Valuation",value:x(t.totalDeclaredValuation),icon:"dollar-sign"},null,8,["value"])])):l("",!0)])])):(s(),a("div",$,r[1]||(r[1]=[n("p",{class:"text-gray-500 italic"},"No specific insights available for this data type yet.",-1)])))]))),128))])):(s(),a("div",j,r[2]||(r[2]=[n("p",{class:"text-xl text-gray-500"},"No metrics data available at the moment. Please check back later.",-1)])))])]),_:1}))}},Q=S(W,[["__scopeId","data-v-d88308f1"]]);export{Q as default};
