import{T as _,q as v,o as r,d as i,b as l,t as a,u as t,s as p,h as u,k as m,e as n,v as k,F as w,j as S}from"./app-59f66305.js";import{_ as V}from"./_plugin-vue_export-helper-c27b6911.js";const E={class:"bg-white p-6 rounded-lg shadow-xl w-full max-w-xl max-h-[90vh] overflow-y-auto"},U={class:"text-xl font-semibold mb-6"},M={key:0,class:"text-red-500 text-xs mt-1"},q={key:0,class:"text-red-500 text-xs mt-1"},C={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},F={key:0,class:"text-red-500 text-xs mt-1"},j={key:0,class:"text-red-500 text-xs mt-1"},B=["value"],N={key:0,class:"text-red-500 text-xs mt-1"},A={key:0,class:"text-red-500 text-xs mt-1"},T={key:0,class:"text-red-500 text-xs mt-1"},z={class:"mt-8 flex justify-end space-x-3"},I=["disabled"],L={__name:"EditLocationModal",props:{show:Boolean,location_data:Object,usersForSelect:Array},emits:["close"],setup(c,{emit:f}){const x=c,b=f,e=_({name:"",address:"",latitude:0,longitude:0,notes:"",user_id:null,language:""});v(()=>x.location_data,d=>{e.clearErrors(),e.reset(),d&&(e.name=d.name||"",e.address=d.address||"",e.latitude=d.latitude||0,e.longitude=d.longitude||0,e.notes=d.notes||"",e.user_id=d.user_id||null,e.language=d.language||"")},{immediate:!0,deep:!0});const y=()=>{x.location_data&&e.put(route("admin.locations.update",x.location_data.id),{preserveScroll:!0,onSuccess:()=>{g()},onError:d=>{console.error("Error updating location:",d)}})},g=()=>{b("close")};return(d,s)=>c.show?(r(),i("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",onClick:p(g,["self"])},[l("div",E,[l("h2",U,"Edit Location: "+a(t(e).name||c.location_data&&c.location_data.name),1),l("form",{onSubmit:p(y,["prevent"]),class:"space-y-4"},[l("div",null,[s[7]||(s[7]=l("label",{for:"loc_name",class:"block text-sm font-medium text-gray-700"},"Name",-1)),u(l("input",{type:"text",id:"loc_name","onUpdate:modelValue":s[0]||(s[0]=o=>t(e).name=o),class:"mt-1 block w-full input-field",required:""},null,512),[[m,t(e).name]]),t(e).errors.name?(r(),i("div",M,a(t(e).errors.name),1)):n("",!0)]),l("div",null,[s[8]||(s[8]=l("label",{for:"loc_address",class:"block text-sm font-medium text-gray-700"},"Address",-1)),u(l("textarea",{id:"loc_address","onUpdate:modelValue":s[1]||(s[1]=o=>t(e).address=o),rows:"2",class:"mt-1 block w-full input-field",required:""},null,512),[[m,t(e).address]]),t(e).errors.address?(r(),i("div",q,a(t(e).errors.address),1)):n("",!0)]),l("div",C,[l("div",null,[s[9]||(s[9]=l("label",{for:"loc_latitude",class:"block text-sm font-medium text-gray-700"},"Latitude",-1)),u(l("input",{type:"number",step:"any",id:"loc_latitude","onUpdate:modelValue":s[2]||(s[2]=o=>t(e).latitude=o),class:"mt-1 block w-full input-field",required:""},null,512),[[m,t(e).latitude,void 0,{number:!0}]]),t(e).errors.latitude?(r(),i("div",F,a(t(e).errors.latitude),1)):n("",!0)]),l("div",null,[s[10]||(s[10]=l("label",{for:"loc_longitude",class:"block text-sm font-medium text-gray-700"},"Longitude",-1)),u(l("input",{type:"number",step:"any",id:"loc_longitude","onUpdate:modelValue":s[3]||(s[3]=o=>t(e).longitude=o),class:"mt-1 block w-full input-field",required:""},null,512),[[m,t(e).longitude,void 0,{number:!0}]]),t(e).errors.longitude?(r(),i("div",j,a(t(e).errors.longitude),1)):n("",!0)])]),l("div",null,[s[12]||(s[12]=l("label",{for:"loc_user_id",class:"block text-sm font-medium text-gray-700"},"User",-1)),u(l("select",{id:"loc_user_id","onUpdate:modelValue":s[4]||(s[4]=o=>t(e).user_id=o),class:"mt-1 block w-full input-field",required:""},[s[11]||(s[11]=l("option",{disabled:"",value:null},"Select a user",-1)),(r(!0),i(w,null,S(c.usersForSelect,o=>(r(),i("option",{key:o.id,value:o.id},a(o.display_name),9,B))),128))],512),[[k,t(e).user_id]]),t(e).errors.user_id?(r(),i("div",N,a(t(e).errors.user_id),1)):n("",!0)]),l("div",null,[s[13]||(s[13]=l("label",{for:"loc_language",class:"block text-sm font-medium text-gray-700"},"Language (e.g., en, es)",-1)),u(l("input",{type:"text",id:"loc_language","onUpdate:modelValue":s[5]||(s[5]=o=>t(e).language=o),class:"mt-1 block w-full input-field",maxlength:"10"},null,512),[[m,t(e).language]]),t(e).errors.language?(r(),i("div",A,a(t(e).errors.language),1)):n("",!0)]),l("div",null,[s[14]||(s[14]=l("label",{for:"loc_notes",class:"block text-sm font-medium text-gray-700"},"Notes",-1)),u(l("textarea",{id:"loc_notes","onUpdate:modelValue":s[6]||(s[6]=o=>t(e).notes=o),rows:"3",class:"mt-1 block w-full input-field"},null,512),[[m,t(e).notes]]),t(e).errors.notes?(r(),i("div",T,a(t(e).errors.notes),1)):n("",!0)]),l("div",z,[l("button",{type:"button",onClick:g,class:"px-4 py-2 btn-secondary"},"Cancel"),l("button",{type:"submit",disabled:t(e).processing,class:"px-4 py-2 btn-primary disabled:opacity-50"},a(t(e).processing?"Saving...":"Save Changes"),9,I)])],32)])])):n("",!0)}},H=V(L,[["__scopeId","data-v-7df66045"]]);export{H as default};
